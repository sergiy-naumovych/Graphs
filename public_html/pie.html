<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Highcharts Example</title>
    
    
</head>
<body>
    
    
    <div data-role="page" id="pie" data-theme="b">
        <div data-role='header' data-theme="b" data-position="fixed">
            <a href="about.html" data-role="button" data-icon="home">Back</a>
            <button id='graph'>Show Graph</button>
            <span class="ui-title"></span>
        </div>
        <div data-role="content">
            <div id="container" style="margin: 0 auto"></div>
        </div>
        <div data-role='footer' data-theme="b" data-position="fixed">
            <span class="ui-title"></span>
        </div>
        <script type="text/javascript">
            $(function () {
                $(window).resize(function(){
                    $('#graph').click();
                });
                
                $('#graph').click(function(){
                    var max_w = $(document).width();
                    var max_h = $(document).height();
                    if(max_w > max_h){
                        //$('#container').css('height', max_h*0.8);
                        $('#container').css('width', max_w*0.9);
                    } else {
                        $('#container').css('width', max_w*0.9);
                        $('#container').css('max-height', max_h*0.8);
                    }
                    

                    $('#container').highcharts({
                        chart: {
                            plotBackgroundColor: null,
                            plotBorderWidth: null,
                            plotShadow: false
                        },
                        title: {
                            text: 'Browser market shares at a specific website, 2010'
                        },
                        tooltip: {
                            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                        },
                        plotOptions: {
                            pie: {
                                allowPointSelect: true,
                                cursor: 'pointer',
                                dataLabels: {
                                    enabled: true,
                                    color: '#000000',
                                    connectorColor: '#000000',
                                    format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                                }
                            }
                        },
                        series: [{
                            type: 'pie',
                            name: 'Browser share',
                            data: [
                                ['Firefox',   45.0],
                                ['IE',       26.8],
                                {
                                    name: 'Chrome',
                                    y: 12.8,
                                    sliced: true,
                                    selected: true
                                },
                                ['Safari',    8.5],
                                ['Opera',     6.2],
                                ['Others',   0.7]
                            ]
                        }]
                    });
                });
            });
        </script>
    </div>    
</body>
</html>
